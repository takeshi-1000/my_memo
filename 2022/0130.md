# 20220130

- [タイトル1](https://github.com/takeshi-1000/my_memo/blob/main/TEMPLATE.md#%E3%82%BF%E3%82%A4%E3%83%88%E3%83%AB1)
- [タイトル2](https://github.com/takeshi-1000/my_memo/blob/main/TEMPLATE.md#%E3%82%BF%E3%82%A4%E3%83%88%E3%83%AB2)
- [タイトル3](https://github.com/takeshi-1000/my_memo/blob/main/TEMPLATE.md#%E3%82%BF%E3%82%A4%E3%83%88%E3%83%AB3)

# [git] コマンド

## git diff

- <b>git add してない</b> 差分を確認するコマンド
- --cachedオプションをつけることで、<b>git add している</b> 差分を確認するコマンドとなる

<img width="636" alt="スクリーンショット 2022-01-30 17 27 43" src="https://user-images.githubusercontent.com/16571394/151692503-066f271d-cc2b-48fd-a0de-e3c04a41230e.png">

## git revert

- 直前のcommitを打ち消すcommitを作成する
- git revert HEAD で直前のコミットを指定して、打ち消す
- git revert {commit ハッシュ値} でコミットを指定して、打ち消す
- 個人レベルでrevertを使わなくてもいいと思うが、業務では作業ログを残す意味でrevertで打ち消した方が良さそう
- `git revert --no-edit` でrevertコミットのメッセージを編集しなくて済む

### 例

- リバートしたいcommit : https://github.com/takeshi-1000/my_memo/commit/d6dd896515f739a1a501e484b4015ba1e1f4cbad#diff-b1ab1e892617f210425f658cf1d361b5489028c8771b56d845fe1c62c1fbc8b0
- リバートした時のcommit : https://github.com/takeshi-1000/my_memo/commit/85f2f8b9fed688a107223c94e5af55a765fd6209#diff-b1ab1e892617f210425f658cf1d361b5489028c8771b56d845fe1c62c1fbc8b0

## git log

- logを出す
- --onelineオプションでcommitのハッシュ値とメッセージを1行に収まる形で表示し、git log よりもより簡易的に表示してくれる
- 数字の指定も可能( `git log -3` のような形)

# [git] ワークツリー / インデックス

- ワークツリー : 作業しているディレクトリ
- インデックス : ワークツリーのファイルをリポジトリにpushする前に、登録された状態にすること。↓ の記事にもあるように、インデックスにあるものだけしかpushできないので、インデックスのおかげでcommitの粒度を調整しやすい

参考 : https://backlog.com/ja/git-tutorial/intro/04/

```
[repository] <- [index] <- [worktree]
```

# タイトル3
