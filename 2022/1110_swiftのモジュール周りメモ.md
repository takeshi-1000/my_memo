## import Module 周りのメモ

- モジュールを参照する必要のあるソースコードについて、コンパイルする時点では、モジュールのheaderさえあればよさそう
- モジュールを参照する必要のあるソースコードについて、リンクする時点では、モジュールの実態(バイナリ)があれば良さそう

<img width="669" alt="スクリーンショット 2022-11-10 10 06 24" src="https://user-images.githubusercontent.com/16571394/200975344-750aac5d-c0d1-4275-9d92-ffd30375d41e.png">


添付のような依存が発生しており、main.swiftがメイン関数を呼ぶ方のファイルだとした場合、
swiftcコンパイラドライバにmain.swift / hoge.swift両方渡せば特にモジュール化する必要ないが、
それぞれでコンパイルする必要がある場合、main.swift側はhoge.swiftのヘッダーを持つ必要があり、
その仕組みとして、依存側のコードをモジュールとして用意し、モジュールを参照するようにメイン側で明示する(importする)必要がありそう。

<img width="335" alt="スクリーンショット 2022-11-10 9 58 43" src="https://user-images.githubusercontent.com/16571394/200974448-bfab1cb8-3f0d-4245-950f-ff2ca1425de0.png">

モジュールはC言語ファミリのヘッダと似ている。

### わかってなかったこと

上記のモジュールの実態は、オブジェクトファイル単体でも良いし、静的ライブラリでも良いし、動的ライブラリでも良さそう
ただし単一のソースファイルをモジュールかする場合は、それをモジュール化する際に、下記のようにメイン側のソースじゃないようにしてオブジェクトファイル（バイナリを作る必要がありそう）
```
$ swiftc -emit-object -parse-as-library a1.swift -module-name a
```

またメイン側のソースをモジュール化できるっぽいな
