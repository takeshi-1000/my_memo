## Carthageでビルドに失敗していた件 Xcode Swift

参考: https://techlife.cookpad.com/entry/2021/03/10/110000

### 前提

Carthageを使用すると、Xcodeのツールチェイン(lipoコマンド)経由で
複数のCPUアーキテクチャ向けのバイナリ（ファットバイナリ / ユニバーサルバイナリ）を
XXXX.frameworkという形で引っ張ってこれる。

### Xcode12以前

※関係ありそうなところだけ

|デバイス|cpuアーキテクチャ|
|---|---|
|iOS実機|arm64|
|iOSシミュレータ|x86_64|

上記のアーキテクチャに対して、ファットバイナリ(ユニバーサルバイナリ)を生成

### Xcode12から

iOSシミュレータ用のバイナリに、x86_64(intel cpu)に加えて、arm64が対応アーキテクチャとして加わる
m1が使用しているcpuのアーキテクチャがarm64のため、m1で実行バイナリ生成するときにarm64向けのバイナリが必要なので。

※関係ありそうなところだけ

|デバイス|cpuアーキテクチャ|
|---|---|
|iOS実機|arm64|
|iOSシミュレータ|x86_64, <b>arm64</b>|

### 問題

- iOS実機のcpuアーキテクチャと、iOSシミュレータのcpuアーキテクチャが同一
- Xcodeツールチェインの制約により、上記のパターンでファットバイナリ化できない



